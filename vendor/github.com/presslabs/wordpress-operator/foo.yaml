---
apiVersion: v1
kind: Pod
metadata:
  name: example1
  annotations:
    nginx-conf: |
      upstream php {
        server 127.0.0.1:9000;
      }
spec:
  restartPolicy: Never
  volumes:
    - name: nginx-conf
      downwardAPI:
        items:
          - path: "default.conf"
            fieldRef:
              fieldPath: metadata.annotations['nginx-conf']
  containers:
    - name: busybox
      image: busybox
      args: ['cat', '/etc/nginx/default.conf']
      volumeMounts:
        - name: nginx-conf
          mountPath: /etc/nginx/
